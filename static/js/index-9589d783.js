var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,r=(t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i,o=(e,t)=>{for(var a in t||(t={}))s.call(t,a)&&r(e,a,t[a]);if(i)for(var a of i(t))n.call(t,a)&&r(e,a,t[a]);return e},l=(e,i)=>t(e,a(i));import{d as c,c as d,u,r as h,a as p,b as m,E as f,e as g,w as v,f as _,o as w,g as b,z as E,C as y,h as V,n as T,p as S,i as x,j as C,k as I,l as L,m as O,q as A,s as P,t as D,v as k,x as R,y as j,F as N,A as M,B as $,D as H,G as z,H as W,I as B,J as U,K as q,L as F,M as G,N as K,O as Z,P as X,Q as Y,R as Q,S as J,T as ee,U as te,V as ae,W as ie,X as se,Y as ne,Z as re,_ as oe,$ as le,a0 as ce,a1 as de,a2 as ue,a3 as he,a4 as pe,a5 as me,a6 as fe,a7 as ge}from"./vendor-c16584f8.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var ve=(e,t)=>{const a=e.__vccOpts||e;for(const[i,s]of t)a[i]=s;return a},_e=ve(c({setup:()=>()=>d("div",{class:"loading"},[d("svg",{width:"122",height:"150",version:"1.1",xmlns:"http://www.w3.org/2000/svg",fill:"#3c9"},[d("rect",{x:"0",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.000s;animate.end+0.000s",values:"10;30;30;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.000s;animate.end+0.000s",values:"0;0 -15;0 -15;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"14",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.0555556turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.100s;animate.end+0.100s",values:"10;60;60;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.100s;animate.end+0.100s",values:"0;0 -30;0 -30;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"28",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.111111turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.200s;animate.end+0.200s",values:"10;80;80;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.200s;animate.end+0.200s",values:"0;0 -40;0 -40;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"42",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.166667turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.300s;animate.end+0.300s",values:"10;90;90;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.300s;animate.end+0.300s",values:"0;0 -30;0 -30;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"56",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.222222turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.400s;animate.end+0.400s",values:"10;90;90;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.400s;animate.end+0.400s",values:"0;0 -20;0 -20;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"70",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.277778turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.500s;animate.end+0.500s",values:"10;90;90;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.500s;animate.end+0.500s",values:"0;0 -30;0 -30;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"84",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.333333turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.600s;animate.end+0.600s",values:"10;80;80;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.600s;animate.end+0.600s",values:"0;0 -40;0 -40;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"98",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.388889turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.700s;animate.end+0.700s",values:"10;60;60;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.700s;animate.end+0.700s",values:"0;0 -30;0 -30;0;0",repeatCount:"indefinite"},null)]),d("rect",{x:"112",y:"60",rx:"5",ry:"5",width:"10",height:"10",style:"filter: hue-rotate(0.444444turn);"},[d("animate",{attributeName:"height",dur:"2s",begin:"0.800s;animate.end+0.800s",values:"10;30;30;10;10",repeatCount:"indefinite"},null),d("animateTransform",{attributeName:"transform",dur:"2s",begin:"0.800s;animate.end+0.800s",values:"0;0 -15;0 -15;0;0",repeatCount:"indefinite"},null)])])])}),[["__scopeId","data-v-d222f5e4"]]);const we={setup(e){const t=u();let a=h(E),i=p((()=>t.getters.menuLoading));return(e,t)=>{const s=m("router-view"),n=f;return w(),g(n,{locale:_(a)},{default:v((()=>[d(s),_(i)?(w(),g(_e,{key:0})):b("",!0)])),_:1},8,["locale"])}}};var be={namespaced:!0,state:{sidebarStatus:!(y.get("sidebarStatus")&&"false"===y.get("sidebarStatus")),pageLoading:!1,menuLoading:!1,requestCount:0,pendingRequest:{}},mutations:{CHANGE_COUNT:(e,t)=>{e.requestCount=t},CHANGE_REQUEST:(e,t)=>{e.pendingRequest=t},OPEN_LOADING:e=>{e.pageLoading=!0},CLOSE_LOADING:e=>{e.pageLoading=!1},SET_MENU_LOADING:(e,t)=>{e.menuLoading=t},TOGGLE_SIDEBAR:e=>{e.sidebarStatus=!e.sidebarStatus,y.set("sidebarStatus",e.sidebarStatus)}},actions:{toggleSideBar({commit:e},t){e("TOGGLE_SIDEBAR",t)}}},Ee=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:be});const ye={},Ve=function(e,t){return t&&0!==t.length?Promise.all(t.map((e=>{if((e=`/vue3-admin/${e}`)in ye)return;ye[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const i=document.createElement("link");return i.rel=t?"stylesheet":"modulepreload",t||(i.as="script",i.crossOrigin=""),i.href=e,document.head.appendChild(i),t?new Promise(((e,t)=>{i.addEventListener("load",e),i.addEventListener("error",t)})):void 0}))).then((()=>e())):e()};const Te=[(e=>(S("data-v-29db8f15"),e=e(),x(),e))((()=>C("path",{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 0 0 0-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0 0 14.4 7z"},null,-1)))];var Se=ve({props:{isActive:{type:Boolean,default:!1}},emits:["toggleClick"],setup(e,{emit:t}){const a=()=>{t("toggleClick")};return(t,i)=>(w(),V("div",{style:{padding:"0 12px"},onClick:a},[(w(),V("svg",{class:T([{"is-active":e.isActive},"hamburger"]),viewBox:"0 0 1024 1024",xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64"},Te,2))]))}},[["__scopeId","data-v-29db8f15"]]);const xe={key:0,class:"no-redirect"},Ce=["onClick"],Ie={setup(e){const t=I(),a=L();let i={},s=h([]);O((()=>{a.getRoutes().forEach((e=>{e.name&&(i[e.name]=e)})),n()})),A((()=>t.path),(()=>{n()}));const n=()=>{s.value=t.matched.filter((e=>e.meta&&e.meta.title&&!1!==e.meta.breadcrumb));const e=s.value[s.value.length-1];if(e&&e.name.indexOf("Detail")>-1){const t=i[e.name.split("Detail")[0]];t&&s.value.splice(s.value.length-1,0,t)}1===s.value.length&&(s.value=[{path:"/",meta:{title:"首页"}}].concat(s.value))},r=e=>{const{params:a}=t;return M.compile(e)(a)};return(e,t)=>{const i=P,n=D;return w(),g(n,{class:"app-breadcrumb",separator:"/"},{default:v((()=>[(w(!0),V(N,null,k(_(s),((e,t)=>(w(),g(i,{key:e.path},{default:v((()=>["noRedirect"===e.redirect||t==_(s).length-1?(w(),V("span",xe,R(e.meta.title),1)):(w(),V("a",{key:1,onClick:j((t=>(e=>{const{redirect:t,path:i}=e;t?a.push(t):a.push(r(i))})(e)),["prevent"])},R(e.meta.title),9,Ce))])),_:2},1024)))),128))])),_:1})}}};const Le={class:"navbar",flex:"justify:between align:center"},Oe={class:"navbar-left",flex:"align:center"},Ae={class:"right-menu",flex:"align:center"},Pe=(e=>(S("data-v-53d96a92"),e=e(),x(),e))((()=>C("div",{flex:"align:center"},[C("i",{class:"iconfont icon-tuichu2"}),C("span",null,"退出登录")],-1)));var De=ve({setup(e){const t=u(),a=L(),i=I();let s=p((()=>t.getters.sidebarStatus));const n=async()=>{await t.dispatch("user/resetToken"),a.push(`/login?redirect=${i.fullPath}`)},r=()=>{t.dispatch("app/toggleSideBar")};return(e,t)=>{const a=$,i=H,o=z,l=W;return w(),V("div",Le,[C("div",Oe,[d(Se,{"is-active":_(s),onToggleClick:r},null,8,["is-active"]),d(Ie)]),C("div",Ae,[d(l,{class:"avatar-container",trigger:"hover",placement:"bottom"},{dropdown:v((()=>[d(o,{class:"user-dropdown"},{default:v((()=>[d(i,{style:{padding:"0 10px"},onClick:n},{default:v((()=>[Pe])),_:1})])),_:1})])),default:v((()=>[d(a,{src:e.$getAssetsUrl("avatar.jpg"),size:30},null,8,["src"])])),_:1})])])}}},[["__scopeId","data-v-53d96a92"]]);function ke(e){return/^(https?:|mailto:|tel:)/.test(e)}var Re=c({props:{icon:{type:String,default:""}},setup:e=>{const{icon:t}=e;return()=>t?t.includes("icon")?d("i",{class:[t,"sub-el-icon iconfont"]},null):d("img",{src:t,class:"sub-el-icon"},null):null}});const je={key:0},Ne={key:0,class:"menu-tag"},Me={class:"title"},$e={key:0,class:"menu-tag"};var He=ve({props:{item:{type:Object,required:!0},isNest:{type:Boolean,default:!1},basePath:{type:String,default:""}},setup(e){const t=e,a=L();let i=h({});const s=(e=[],t)=>{const a=e.filter((e=>!e.hidden&&(i.value=e,!0)));return 1===a.length||0===a.length&&(i.value=l(o({},t),{path:"",noShowingChildren:!0}),!0)};return(n,r)=>{const o=q,l=m("SidebarItem",!0),c=F;return e.item.hidden?b("",!0):(w(),V("div",je,[s(e.item.children,e.item)&&(n.$isEmpty(_(i).children)||_(i).noShowingChildren)&&!e.item.alwaysShow?(w(),g(o,{key:0,index:_(i).name,class:T({"submenu-title-noDropdown":!e.isNest}),onClick:r[0]||(r[0]=t=>{return i=e.item,void a.push(i.path);var i})},{title:v((()=>{var e,t,a;return[B(R(null==(e=_(i).meta)?void 0:e.title)+" ",1),(null==(t=_(i).meta)?void 0:t.tag)?(w(),V("span",Ne,R(null==(a=_(i).meta)?void 0:a.tag),1)):b("",!0)]})),default:v((()=>{var t,a;return[d(Re,{icon:(null==(t=_(i).meta)?void 0:t.icon)||(null==(a=e.item.meta)?void 0:a.icon)},null,8,["icon"])]})),_:1},8,["index","class"])):(w(),g(c,{key:1,ref:"subMenu",index:e.item.name,"popper-append-to-body":""},{title:v((()=>{var t,a,i,s;return[d(Re,{icon:null==(t=e.item.meta)?void 0:t.icon},null,8,["icon"]),C("span",Me,[B(R(null==(a=e.item.meta)?void 0:a.title)+" ",1),(null==(i=e.item.meta)?void 0:i.tag)?(w(),V("span",$e,R(null==(s=e.item.meta)?void 0:s.tag),1)):b("",!0)])]})),default:v((()=>[(w(!0),V(N,null,k(e.item.children,(e=>{return w(),g(l,{key:e.path,"is-nest":!0,item:e,"base-path":(a=e.path,ke(a)?a:ke(t.basePath)?t.basePath:U.resolve(t.basePath,a)),class:"nest-menu"},null,8,["item","base-path"]);var a})),128))])),_:1},8,["index"]))]))}}},[["__scopeId","data-v-1054918c"]]);function ze(e){var t,a,i,s,n,r;for(t="",i=(e=unescape(e)).length,a=0;a<i;)switch((s=e.charCodeAt(a++))>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(a-1);break;case 12:case 13:n=e.charCodeAt(a++),t+=String.fromCharCode((31&s)<<6|63&n);break;case 14:n=e.charCodeAt(a++),r=e.charCodeAt(a++),t+=String.fromCharCode((15&s)<<12|(63&n)<<6|(63&r)<<0)}return t}function We(e){return"[object Object]"===Object.prototype.toString.call(e)}function Be(e){return e.length?e.replace(e[0],e[0].toUpperCase()):e}function Ue(e){return new URL({"../assets/images/avatar.jpg":"/vue3-admin/static/jpg/avatar-3eeca77d.jpg","../assets/images/loading.svg":"/vue3-admin/static/svg/loading-862a2d0b.svg","../assets/images/logo.png":"/vue3-admin/static/png/logo-db74ab0b.png"}[`../assets/images/${e}`],self.location).href}var qe=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",dateFormat:function(e,t){if(!e)return"";e*=1e3,t=arguments[1]||"yyyy-MM-dd HH:mm:ss";var a=new Date(e),i={"M+":a.getMonth()+1,"d+":a.getDate(),"h+":a.getHours()%12==0?12:a.getHours()%12,"H+":a.getHours(),"m+":a.getMinutes(),"s+":a.getSeconds(),"q+":Math.floor((a.getMonth()+3)/3),S:a.getMilliseconds()},s={0:"日",1:"一",2:"二",3:"三",4:"四",5:"五",6:"六"};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(a.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"星期":"周":"")+s[a.getDay()+""])),i)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return t},numFormat:function(e){return e||0===e?(e>=1e12?e=(e/1e12).toFixed(1)+"T":e>=1e9?e=(e/1e9).toFixed(1)+"B":e>=1e6?e=(e/1e6).toFixed(1)+"M":e>=1e3&&(e=(e/1e3).toFixed(1)+"K"),e):"-"},timeFormat:function(e){if(e||0===e){return(parseInt(e/60)<10?"0"+parseInt(e/60):parseInt(e/60))+":"+(parseInt(e%60)<10?"0"+parseInt(e%60):parseInt(e%60))}return"-"},numToKilo:function(e){if(!/^(-?\d+)(\.\d+)?$/.test(e))return e;let t="",a=0,i="",s="";"-"===(e=(e||0).toString().split("."))[0][0]?(i=e[0].substring(1),s="-"):i=e[0];let n=2===e.length?e[1]:"";for(let r=i.length-1;r>=0;r--)a++,t=i.charAt(r)+t,a%3||0==r||(t=","+t);return t=s+t,n?t+"."+n:t},utf8to16:ze,isObj:We,isArr:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isStr:function(e){return e+""===e},arrToObj:function(e,t="label",a="code"){const i={};return e.forEach((e=>{i[e[a]]=e[t]})),i},isEmpty:function(e){if(!e)return!0;for(const t in e)return!1;return!0},firstToUpper:Be,getArrOne:function(e,t=""){return"[object Array]"===Object.prototype.toString.call(e)&&e.length?e[0]:t},getObjKeyVal:function(e,t){return"[object Object]"===Object.prototype.toString.call(e)&&e[t]||""},encrypt:function(e){return G(e+"#@%^&*")},newPage:function(e){const{href:t}=this.$router.resolve(e);window.open(t,"_blank")},handleLink:function(e){return/^([a-zA-Z0-9]+[-_.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[-_.]?)*[a-zA-Z0-9]+\.[a-zA-Z]{2,6}$/.test(e)?"mailto:"+e:-1===e.indexOf("//")?"//"+e:e},getScssObj:function(e){let t=[];try{t=e.replace(/\s*/g,"").match(/{(\S*);}/)[1].split(";")}catch(i){console.error(i)}let a={};return t.forEach((e=>{let t=e.split(":");t.length>1&&(a[t[0]]=t[1])})),a},getAssetsUrl:Ue}),Fe=ve(c({props:{title:{type:String,default:""}},setup:e=>{const t=u();let{title:a}=e,i=Ue("logo.png"),s=p((()=>t.getters.sidebarStatus));return()=>d("div",{class:"sidebar-logo-container"},[d(m("router-link"),{key:"expand",class:"sidebar-logo-link",to:"/"},{default:()=>[d("img",{src:i,class:"sidebar-logo"},null),s.value?d("p",{class:"sidebar-title"},[a]):null]})])}}),[["__scopeId","data-v-57fd8bb9"]]),Ge={title:"后台管理系统",target:"http://www.test.com"};var Ke={mainColor:"var(--el-color-primary)",mainBg:"#F5F5F5",fontColor:"#333",fontColor6:"#666",blackColor:"#000",whiteColor:"#FFF",headerHeight:"54px",sideBarBg:"#304156",sideBarText:"#bfcbd9",sideBarTextActive:"var(--el-color-primary)",subMenuBg:"#1f2d3d"};const Ze={setup(e){const t=u(),a=I();let i=p((()=>t.getters.permissionRoutes)),s=p((()=>{const{meta:e,name:t}=a;return e.activeMenu?e.activeMenu:t})),n=p((()=>!t.getters.sidebarStatus));return(e,t)=>{const a=K,r=Z;return w(),V("div",null,[d(Fe,{title:_(Ge).title},null,8,["title"]),d(r,{"wrap-class":"scrollbar-wrapper"},{default:v((()=>[d(a,{ref:"myElMenu","default-active":_(s),collapse:_(n),"background-color":_(Ke).sideBarBg,"text-color":_(Ke).sideBarText,"active-text-color":_(Ke).sideBarTextActive,"collapse-transition":!1,mode:"vertical"},{default:v((()=>[(w(!0),V(N,null,k(_(i),(e=>(w(),g(He,{key:e.path,item:e,"base-path":e.path},null,8,["item","base-path"])))),128))])),_:1},8,["default-active","collapse","background-color","text-color","active-text-color"])])),_:1})])}}};var Xe=c({components:{Loading:_e},setup:()=>{const e=u(),t=I();let a=p((()=>t.path)),i=p((()=>e.getters.pageLoading)),s=p((()=>e.state.tagsView.cachedViews));return()=>d("section",{class:"main-container"},[d(m("RouterView"),{key:a.value},{default:({Component:e})=>d(X,{include:s.value},[d(e,null,null)])}),i.value?d(_e,null,null):null])}});var Ye=ve({emits:["scroll"],setup(e,{expose:t,emit:a}){let i=Y("tagList").value;const s=h(null);let n=p((()=>s.value.$refs.wrap$));function r(){a("scroll")}Q((()=>{n.value.addEventListener("scroll",r,!0)})),J((()=>{n.value.removeEventListener("scroll",r)}));const o=e=>{const t=e.wheelDelta||40*-e.deltaY,a=n.value;a.scrollLeft=a.scrollLeft+t/4};return t({moveToTarget:e=>{const t=s.value.$el.offsetWidth,a=n.value;let r=null,o=null;if(i.length>0&&(r=i[0],o=i[i.length-1]),r===e)a.scrollLeft=0;else if(o===e)a.scrollLeft=a.scrollWidth-t;else{const s=i.findIndex((t=>t===e)),n=i[s-1],r=i[s+1],o=r.$el.offsetLeft+r.$el.offsetWidth+4,l=n.$el.offsetLeft-4;o>a.scrollLeft+t?a.scrollLeft=o-t:l<a.scrollLeft&&(a.scrollLeft=l)}}}),(e,t)=>{const a=Z;return w(),g(a,{ref_key:"scrollContainer",ref:s,vertical:!1,class:"scroll-container",onWheel:j(o,["prevent"])},{default:v((()=>[ee(e.$slots,"default",{},void 0,!0)])),_:3},8,["onWheel"])}}},[["__scopeId","data-v-75fb976a"]]),Qe={};const Je={id:"tags-view-container",class:"tags-view-container"},et=["onClick"],tt={key:1,class:"tag"};var at=ve({setup(e){const{proxy:t}=le(),a=u(),i=I(),s=L();let n=te({visible:!1,top:0,left:0,selectedTag:{},selectedTagIndex:0,affixTags:[]});const r=p((()=>a.state.tagsView.visitedViews)),l=p((()=>a.getters.permissionRoutes)),c=h([]),f=e=>{-1===c.value.indexOf(e)&&e&&c.value.push(e)};A((()=>i.path),(()=>{P(),M()})),A((()=>n.visible),(e=>{e?document.body.addEventListener("click",E):document.body.removeEventListener("click",E)}));const E=()=>{n.visible=!1};ae("tagList",c),Q((()=>{O(),P()}));const y=e=>e.path===i.path,S=e=>e.meta&&e.meta.affix,x=(e,t="/")=>{let a=[];return e.forEach((e=>{if(e.meta&&e.meta.affix){const i=Qe.resolve(t,e.path);a.push({fullPath:i,path:i,name:e.name,meta:o({},e.meta)})}if(e.children){const t=x(e.children,e.path);t.length>=1&&(a=[...a,...t])}})),a},O=()=>{const e=n.affixTags=x(l.value);for(const t of e){const{hiddenTag:e}=t.meta;e||a.dispatch("tagsView/addVisitedView",t)}},P=()=>{const{hiddenTag:e}=i.meta;return e||a.dispatch("tagsView/addView",i),!1};let D=h(null);const M=()=>{ie((()=>{for(const e of c.value)if(e.to.path===i.path){D.value.moveToTarget(e),e.to.fullPath!==i.fullPath&&a.dispatch("tagsView/updateVisitedView",i);break}}))},$=(e,t)=>{c.value.splice(t,1),a.dispatch("tagsView/delView",e).then((({visitedViews:t})=>{y(e)&&z(t,e)}))},H=()=>{s.push(n.selectedTag),a.dispatch("tagsView/delOthersViews",n.selectedTag).then((()=>{M()}))},z=(e,t)=>{const a=e.slice(-1)[0];a?s.push(a.fullPath):"Dashboard"===t.name?s.replace({path:"/redirect"+t.fullPath}):s.push("/")},W=()=>{E()};let{visible:U,top:q,left:F,selectedTag:G}=se(n);return(e,i)=>{const o=m("router-link");return w(),V("div",Je,[d(Ye,{ref_key:"scrollPane",ref:D,class:"tags-view-wrapper",onScroll:W},{default:v((()=>[(w(!0),V(N,null,k(_(r),((e,a)=>(w(),g(o,{ref_for:!0,ref:f,key:e.path,class:T([y(e)?"active":"","tags-view-item"]),to:{path:e.path,query:e.query,fullPath:e.fullPath},tag:"span",onMouseup:j((t=>S(e)?"":$(e,a)),["middle"]),onContextmenu:j((i=>((e,a,i)=>{const s=t.$el.getBoundingClientRect().left,r=t.$el.offsetWidth-105,o=a.clientX-s+15;n.left=o>r?r:o,n.top=a.clientY,n.visible=!0,n.selectedTag=e,n.selectedTagIndex=i})(e,i,a)),["prevent"])},{default:v((()=>[B(R(e.title)+" ",1),S(e)?b("",!0):(w(),V("span",{key:0,class:"iconfont icon-cha",onClick:j((t=>$(e,a)),["prevent","stop"])},null,8,et)),e.tag?(w(),V("i",tt,R(e.tag),1)):b("",!0)])),_:2},1032,["class","to","onMouseup","onContextmenu"])))),128))])),_:1},512),ne(C("ul",{style:oe({left:_(F)+"px",top:_(q)+"px"}),class:"contextmenu"},[C("li",{onClick:i[0]||(i[0]=e=>{return t=_(G),void a.dispatch("tagsView/delCachedView",t).then((()=>{const{fullPath:e}=t;ie((()=>{s.replace({path:"/redirect"+e})}))}));var t})},"刷新"),S(_(G))?b("",!0):(w(),V("li",{key:0,onClick:i[1]||(i[1]=t=>$(_(G),e.selectedTagIndex))},"关闭")),C("li",{onClick:H},"关闭其他"),C("li",{onClick:i[2]||(i[2]=e=>{return t=_(G),void a.dispatch("tagsView/delAllViews").then((({visitedViews:e})=>{n.affixTags.some((e=>e.path===t.path))||z(e,t)}));var t})},"关闭所有")],4),[[re,_(U)]])])}}},[["__scopeId","data-v-1dc715ed"]]);const it={class:"fixed-header"};var st=ve({setup(e){const t=u();let a=p((()=>({hideSidebar:!t.getters.sidebarStatus,openSidebar:t.getters.sidebarStatus})));return(e,t)=>(w(),V("div",{class:T([_(a),"app-wrapper"])},[C("div",it,[d(_(De)),d(_(at))]),d(_(Ze),{class:"sidebar-container"}),d(_(Xe))],2))}},[["__scopeId","data-v-c631ec72"]]);const nt=[{path:"/",redirect:"/login",hidden:!0,meta:{hiddenTag:!0}},{path:"/login",name:"Login",component:()=>Ve((()=>import("./login-ce0b86e9.js")),["static/js/login-ce0b86e9.js","static/css/login-de98b7a0.css","static/css/form-item-5bd52545.css","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),hidden:!0,meta:{hiddenTag:!0}},{path:"/404",name:"Error",component:()=>Ve((()=>Promise.resolve().then((function(){return pt}))),void 0),hidden:!0,meta:{hiddenTag:!0}},{path:"/redirect",component:st,hidden:!0,meta:{hiddenTag:!0},children:[{path:"/redirect/:path(.*)",component:()=>Ve((()=>import("./redirect-cf943d8e.js")),["static/js/redirect-cf943d8e.js","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),meta:{hiddenTag:!0}}]}],rt=[{path:"/:pathMatch(.*)",redirect:"/404",hidden:!0}],ot=()=>ce({history:de(),routes:nt,scrollBehavior:()=>({top:0})}),lt=ot();const ct={flex:"dir:column align:center"},dt=(e=>(S("data-v-73335858"),e=e(),x(),e))((()=>C("i",{class:"iconfont icon-yepian"},null,-1))),ut=B(" 页面找不到了，");var ht=ve({setup(e){const t=L(),a=u(),i=()=>{t.push(a.getters.indexPath)};return(e,t)=>(w(),V("section",ct,[dt,C("p",null,[ut,C("span",{onClick:i},"返回首页")])]))}},[["__scopeId","data-v-73335858"]]),pt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ht}),mt=[{path:"/dashboard",filePath:"/dashboard",title:"操作台",icon:"icon-tubiaozhizuomoban-86",show:!0,children:[{path:"index",filePath:"/dashboard/index",title:"首页",icon:"",show:!0,children:[]}]},{path:"/goods",filePath:"/goods",title:"商品管理",icon:"icon-tubiaozhizuomoban-56",show:!0,children:[{path:"view",filePath:"/goods/view",title:"商品列表",icon:"",show:!0,children:[]},{path:"update",filePath:"/goods/update",title:"分类管理",icon:"",show:!0,children:[]},{path:"carry",filePath:"/goods/carry",title:"单位管理",icon:"",show:!0,children:[]}]},{path:"/system",filePath:"/system",title:"系统管理",icon:"icon-tubiaozhizuomoban-45",show:!0,children:[{path:"user",filePath:"/system/user",title:"用户管理",icon:"",show:!0,children:[]},{path:"role",filePath:"/system/role",title:"角色管理",icon:"",show:!0,children:[]},{path:"menu",filePath:"/system/menu",title:"菜单管理",icon:"",show:!0,tag:"NEW",children:[]}]}];const ft=function(){const e={"../../views/404.vue":()=>Ve((()=>Promise.resolve().then((function(){return pt}))),void 0),"../../views/login.vue":()=>Ve((()=>import("./login-ce0b86e9.js")),["static/js/login-ce0b86e9.js","static/css/login-de98b7a0.css","static/css/form-item-5bd52545.css","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),"../../views/redirect.vue":()=>Ve((()=>import("./redirect-cf943d8e.js")),["static/js/redirect-cf943d8e.js","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),"../../views/dashboard/index.vue":()=>Ve((()=>import("./index-b434ce59.js")),["static/js/index-b434ce59.js","static/css/index-bcf1e7b6.css","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),"../../views/system/menu.vue":()=>Ve((()=>import("./menu-667a92be.js")),["static/js/menu-667a92be.js","static/css/form-item-5bd52545.css","static/js/table-column-dc94e3db.js","static/css/table-column-03d2ba35.css","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),"../../views/system/role.vue":()=>Ve((()=>import("./role-8bbefbdb.js")),["static/js/role-8bbefbdb.js","static/css/form-item-5bd52545.css","static/js/table-column-dc94e3db.js","static/css/table-column-03d2ba35.css","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"]),"../../views/system/user.vue":()=>Ve((()=>import("./user-4770e284.js")),["static/js/user-4770e284.js","static/js/vendor-c16584f8.js","static/css/vendor-7070e972.css"])};return function(t){return e[`../../views${t}.vue`]||ht}}();function gt(e,t,a){t.forEach((t=>{if(!t.filePath)throw new Error("菜单文件路径不能为空");const i=t.filePath.split("/");let s=t.path;"/"!==s.substring(0,1)&&(s=a+"/"+s);const n={path:s,hidden:!t.show,notAllowed:t.notAllowed,alwaysShow:t.alwaysShow,children:[],name:Be(i[i.length-1]),meta:{title:t.title,icon:t.icon,tag:t.tag}};if(!t.show){const e=t.path.split("Detail")[0];n.meta.activeMenu=e}if(t.children&&t.children.length){""===a&&(n.component=st);let e=t.children[0].path;"/"!==e.substring(0,1)&&(e=t.path+"/"+e),n.redirect=e,gt(n.children,t.children,s)}else n.component=ft(t.filePath);e.push(n)}))}var vt={namespaced:!0,state:{routes:[],indexPath:"/dashboard"},mutations:{SET_ROUTES:(e,t)=>{e.routes=nt.concat(t).concat(rt)},RESET_ROUTES:e=>{e.routes=[]},SET_INDEX_PATH:(e,t)=>{e.indexPath=t}},actions:{generateRoutes:({commit:e})=>new Promise((t=>{setTimeout((()=>{let a=[];gt(a,mt,""),e("SET_ROUTES",a),a.length&&e("SET_INDEX_PATH",a[0].path),t(a.concat(rt))}),2e3)}))}},_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:vt});var wt={namespaced:!0,state:{visitedViews:[],cachedViews:[]},mutations:{ADD_VISITED_VIEW:(e,t)=>{e.visitedViews.some((e=>e.path===t.path))||e.visitedViews.push(Object.assign({},t,{title:t.meta.title||"未知",tag:t.meta.tag}))},ADD_CACHED_VIEW:(e,t)=>{e.cachedViews.includes(t.name)||t.meta.noCache||e.cachedViews.push(t.name)},DEL_VISITED_VIEW:(e,t)=>{for(const[a,i]of e.visitedViews.entries())if(i.path===t.path){e.visitedViews.splice(a,1);break}},DEL_CACHED_VIEW:(e,t)=>{const a=e.cachedViews.indexOf(t.name);a>-1&&e.cachedViews.splice(a,1)},DEL_OTHERS_VISITED_VIEWS:(e,t)=>{e.visitedViews=e.visitedViews.filter((e=>e.meta.affix||e.path===t.path))},DEL_OTHERS_CACHED_VIEWS:(e,t)=>{const a=e.cachedViews.indexOf(t.name);e.cachedViews=a>-1?e.cachedViews.slice(a,a+1):[]},DEL_ALL_VISITED_VIEWS:e=>{const t=e.visitedViews.filter((e=>e.meta.affix));e.visitedViews=t},DEL_ALL_CACHED_VIEWS:e=>{e.cachedViews=[]},UPDATE_VISITED_VIEW:(e,t)=>{for(let a of e.visitedViews)if(a.path===t.path){a=Object.assign(a,t);break}}},actions:{addView({dispatch:e},t){e("addVisitedView",t),e("addCachedView",t)},addVisitedView({commit:e},t){e("ADD_VISITED_VIEW",t)},addCachedView({commit:e},t){e("ADD_CACHED_VIEW",t)},delView:({dispatch:e,state:t},a)=>new Promise((i=>{e("delVisitedView",a),e("delCachedView",a),i({visitedViews:[...t.visitedViews],cachedViews:[...t.cachedViews]})})),delVisitedView:({commit:e,state:t},a)=>new Promise((i=>{e("DEL_VISITED_VIEW",a),i([...t.visitedViews])})),delCachedView:({commit:e,state:t},a)=>new Promise((i=>{e("DEL_CACHED_VIEW",a),i([...t.cachedViews])})),delOthersViews:({dispatch:e,state:t},a)=>new Promise((i=>{e("delOthersVisitedViews",a),e("delOthersCachedViews",a),i({visitedViews:[...t.visitedViews],cachedViews:[...t.cachedViews]})})),delOthersVisitedViews:({commit:e,state:t},a)=>new Promise((i=>{e("DEL_OTHERS_VISITED_VIEWS",a),i([...t.visitedViews])})),delOthersCachedViews:({commit:e,state:t},a)=>new Promise((i=>{e("DEL_OTHERS_CACHED_VIEWS",a),i([...t.cachedViews])})),delAllViews:({dispatch:e,state:t},a)=>new Promise((i=>{e("delAllVisitedViews",a),e("delAllCachedViews",a),i({visitedViews:[...t.visitedViews],cachedViews:[...t.cachedViews]})})),delAllVisitedViews:({commit:e,state:t})=>new Promise((a=>{e("DEL_ALL_VISITED_VIEWS"),a([...t.visitedViews])})),delAllCachedViews:({commit:e,state:t})=>new Promise((a=>{e("DEL_ALL_CACHED_VIEWS"),a([...t.cachedViews])})),updateVisitedView({commit:e},t){e("UPDATE_VISITED_VIEW",t)}}},bt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wt});function Et(){return y.get("Authorization")}const yt=()=>({token:Et(),userInfo:{}});var Vt={namespaced:!0,state:yt(),mutations:{RESET_STATE:e=>{Object.assign(e,yt())},SET_TOKEN:(e,t)=>{e.token=t},SET_USER_INFO:(e,t)=>{e.userInfo=t}},actions:{login({commit:e},t){const{username:a,password:i}=t;return new Promise(((t,s)=>{if("admin"===a&&"123456"===i){const a="token";e("SET_TOKEN",a),n=a,y.set("Authorization",n,{expires:7}),t()}else ue.error("账号密码错误"),s(error);var n}))},userInfo:({commit:e})=>new Promise(((t,a)=>{userInfo().then((a=>{const{data:i}=a;e("SET_USER_INFO",i),t()})).catch((e=>{a(e)}))})),resetToken:({commit:e})=>new Promise((t=>{y.remove("Authorization"),function(){const e=ot();lt.matcher=e.matcher}(),e("RESET_STATE"),e("permission/RESET_ROUTES","",{root:!0}),t()}))}};const Tt={"./modules/app.js":Ee,"./modules/permission.js":_t,"./modules/tagsView.js":bt,"./modules/user.js":Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Vt})};let St={};for(const At in Tt){St[At.replace(/(.*\/)*([^.]+).*/gi,"$2")]=Tt[At].default}const xt=he({modules:St,getters:{requestCount:e=>e.app.requestCount,pendingRequest:e=>e.app.pendingRequest,sidebarStatus:e=>e.app.sidebarStatus,pageLoading:e=>e.app.pageLoading,menuLoading:e=>e.app.menuLoading,permissionRoutes:e=>e.permission.routes,indexPath:e=>e.permission.indexPath,userinfo:e=>e.user.userinfo}});var Ct={install(e){e.directive("confirm",(function(e,{value:t={},title:a="您确定要继续操作吗?"}){e.onclick=function(){pe.confirm(a,"提示",{type:"warning"}).then((()=>{t.data?t.fun(t.data):t.fun()})).catch((()=>{}))}}));let t=null;e.directive("load",{updated(e,a){a.value&&!t&&(t=me.service({target:e,lock:!0,text:"加载中"})),!a.value&&t&&(t.close(),t=null)}})}};fe.configure({showSpinner:!1});const It={Test:!0,Error:!0},Lt={Login:!0};lt.beforeEach((async(e,t,a)=>{let i=xt.getters.pendingRequest;for(let n in i)i[n].fun(l(o({},i[n].config),{cancel:!0}));xt.commit("app/CHANGE_REQUEST",{}),fe.start();if(Et())if(Lt[e.name]){a({path:xt.getters.indexPath,query:o({},e.query)}),fe.done()}else{if(!!xt.getters.permissionRoutes.length)a();else try{xt.commit("app/SET_MENU_LOADING",!0);const t=await xt.dispatch("permission/generateRoutes");t.forEach((e=>{lt.addRoute(e)})),a(l(o({},e),{replace:!0}))}catch(s){console.error(s),xt.commit("app/SET_MENU_LOADING",!1),await xt.dispatch("user/resetToken"),a(`/login?redirect=${e.fullPath}`),fe.done()}}else Lt[e.name]||It[e.name]?a():(await xt.dispatch("user/resetToken"),a(`/login?redirect=${e.fullPath}`),fe.done())})),lt.afterEach(((e,t)=>{fe.done(),xt.commit("app/SET_MENU_LOADING",!1)}));const Ot=ge(we);Object.keys(qe).forEach((e=>{Ot.config.globalProperties["$"+e]=qe[e]})),Ot.use(Ct),Ot.use(xt),Ot.use(lt),Ot.mount("#app");export{ve as _,We as i,mt as m,Ge as s,ze as u};
