import{k as e,l as a,u as s,R as l,a8 as r,U as o,r as t,a as d,a9 as n,aa as u,ab as i,ac as p,h as c,j as m,x as f,f as g,c as h,w as v,p as w,i as x,o as y,ad as _,ae as b,I as k}from"./vendor-c16584f8.js";/* empty css                  */import{_ as V,u as j,s as U}from"./index-9589d783.js";const q={class:"login"},C={class:"login-wrap card"},I=(e=>(w("data-v-00a8eab6"),e=e(),x(),e))((()=>m("h2",null,"欢迎使用~",-1))),P=k("登录");var z=V({setup(w){const x=e(),k=a(),V=s();l((()=>{document.onkeydown=()=>{13===window.event.keyCode&&G()}})),r((()=>{document.onkeydown=void 0}));const z={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"输入登录密码",trigger:"blur"}]};let F=o({username:"admin",password:"123456"}),R=t(!1),A=t(null),B=d((()=>V.getters.indexPath)),D="";const E=x.fullPath.split("redirect=");2===E.length&&(D=j(E[1])),D=D||B.value;const G=()=>{A.value.validate((e=>{if(!e)return!1;R.value=!0,V.dispatch("user/login",F).then((()=>{R.value=!1,k.push({path:D})})).catch((()=>{R.value=!1}))}))};return(e,a)=>{const s=n,l=u,r=i,o=p;return y(),c("div",q,[m("div",C,[I,m("h3",null,f(g(U).title),1),h(o,{ref_key:"loginForm",ref:A,model:g(F),rules:z,size:"large"},{default:v((()=>[h(l,{prop:"username"},{default:v((()=>[h(s,{modelValue:g(F).username,"onUpdate:modelValue":a[0]||(a[0]=e=>g(F).username=e),type:"text",clearable:"","prefix-icon":g(_),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])])),_:1}),h(l,{prop:"password"},{default:v((()=>[h(s,{modelValue:g(F).password,"onUpdate:modelValue":a[1]||(a[1]=e=>g(F).password=e),type:"password",clearable:"",placeholder:"请输入登录密码","prefix-icon":g(b)},null,8,["modelValue","prefix-icon"])])),_:1}),h(l,null,{default:v((()=>[h(r,{type:"primary",style:{width:"100%"},loading:g(R),onClick:G},{default:v((()=>[P])),_:1},8,["loading"])])),_:1})])),_:1},8,["model"])])])}}},[["__scopeId","data-v-00a8eab6"]]);export{z as default};
